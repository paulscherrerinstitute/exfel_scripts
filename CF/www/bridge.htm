<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
	<% include("include/head.inc"); %>
  <script type="text/javascript" src="js/webmap.js"></script>
  <script type="text/javascript" src="js/bridge.js"></script> 
</head>

<body>
<% include("include/logo.inc"); %>
<% include("include/menubrd.inc"); %>

<div id="window_body">

<table class="cw"> 
  <tr>
    <td class="cwt" colspan="3">
      <span>GPAC 2.1 PLB Bridges</span>
    </td>
  </tr>
  <tr>
    <td class="cws" style="vertical-align:top">
      <table class="t"  id="webmap1">
        <tr>
          <td class="tt" colspan="8">
            GTX Status and Control
          </td>
        </tr>
        <tr>
          <td class="tlrb" colspan="2">Source</td>
          <td class="tlrb" colspan="6">Destination</td>
        </tr>
        <tr>
          <td class="tlrb" style="width:70px;">Component</td> 
          <td class="tlrb" style="width:70px;">GTX</td> 
          <td class="tlrb" style="width:70px;">FPGA</td>
          <td class="tlrb" style="width:70px;">GTX</td>
          <td class="tlrb" style="width:70px;">LosOfSync</td>
          <td class="tlrb" style="width:70px;">Los Cnt</td> 
          <td class="tlrb" style="width:70px;">Cnt Reset</td> 
          <td class="tlrb" style="width:70px;">Loopback</td> 
        </tr>
        <tr>
          <td class="tcr" >BPM1</td>
          <td class="tcr" >116_0</td>
          <td class="tcr" >SYS</td> 
          <td class="tcr" >112_0</td> 
          <td class="tcr" id="bpm1_sys_losofsync"></td> 
          <td class="tcr" name="webmap" title="INP@0x00000050 T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x00000050 T=uint32 C=1" >
          </td> 
          <td class="tcell">
            <select class="bpm1_sys_loopback" name="webmap" title="OUT@0x00000043 T=uint8"></select>
          </td>
        </tr>
        <tr>
          <td class="tcr" >BPM2</td>
          <td class="tcr" >116_0</td>
          <td class="tcr" >SYS</td> 
          <td class="tcr" >112_1</td> 
          <td class="tcr" id="bpm2_sys_losofsync"></td> 
          <td class="tcr" name="webmap" title="INP@0x00000054 T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x00000054 T=uint32 C=1" >
          </td> 
          <td class="tcell">
            <select class="bpm2_sys_loopback" name="webmap" title="OUT@0x00000047 T=uint8"></select>
          </td>
        </tr>
        <tr>
          <td class="tcr" >SFP2</td>
          <td class="tcr" ></td>
          <td class="tcr" >SYS</td> 
          <td class="tcr" >116_1</td> 
          <td class="tcr" id="sfp2_sys_losofsync"></td> 
          <td class="tcr" name="webmap" title="INP@0x00000060 T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x00000060 T=uint32 C=1" >
          </td> 
        </tr>
        <tr>
          <td class="tcr" >SYS</td>
          <td class="tcr" >112_0</td>
          <td class="tcr" >BPM1</td> 
          <td class="tcr" >116_0</td> 
          <td class="tcr" id="sys_bpm1_losofsync"></td> 
          <td class="tcr" name="webmap" title="INP@0x00A00040 T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x00A00050 T=uint32 C=1" >
          </td> 
          <td class="tcell">
            <select class="sys_bpm1_loopback" name="webmap" title="OUT@0x00A00043 T=uint8"></select>
          </td>
        </tr>
        <tr>
          <td class="tcr" >BPM2</td>
          <td class="tcr" >116_1</td>
          <td class="tcr" >BPM1</td> 
          <td class="tcr" >116_1</td> 
          <td class="tcr" id="bpm2_bpm1_losofsync"></td> 
          <td class="tcr" name="webmap" title="INP@0x00A00044 T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x00A00054 T=uint32 C=1" >
          </td> 
          <td class="tcell">
            <select class="bpm2_bpm1_loopback" name="webmap" title="OUT@0x00A00047 T=uint8"></select>
          </td>
        </tr>
        <tr>
          <td class="tcr" >SYS</td>
          <td class="tcr" >112_1</td>
          <td class="tcr" >BPM2</td> 
          <td class="tcr" >116_0</td> 
          <td class="tcr" id="sys_bpm2_losofsync"></td> 
          <td class="tcr" name="webmap" title="INP@0x01200040 T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x01200040 T=uint32 C=1" >
          </td> 
          <td class="tcell">
            <select class="sys_bpm2_loopback" name="webmap" title="OUT@0x01200043 T=uint8"></select>
          </td>
        </tr>
        <tr>
          <td class="tcr" >BPM1</td>
          <td class="tcr" >116_1</td>
          <td class="tcr" >BPM2</td> 
          <td class="tcr" >116_1</td> 
          <td class="tcr" id="bpm1_bpm2_losofsync"></td> 
          <td class="tcr" name="webmap" title="INP@0x01200044 T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x01200044 T=uint32 C=1" >
          </td> 
          <td class="tcell">
            <select class="bpm1_bpm2_loopback" name="webmap" title="OUT@0x01200047 T=uint8"></select>
          </td>
        </tr>
      </table>
    </td>
    <td class="cws" style="vertical-align:top">
      <table class="t"  id="webmap1">
        <tr>
          <td class="tt" colspan="8">
            System Diagnostics
          </td>
        </tr>
        <tr>
          <td class="tlr"  style="width:160px">BPM1 CPU Load [%]</td>
          <td class="tcnb" style="width:60px" name="webmap" title="INP@0x00A00034 T=uint32 S=0.0000008 P=2"></td>
        </tr>
        <tr>
          <td class="tlr"  style="width:160px">BPM2 CPU Load [%]</td>
          <td class="tcnb" style="width:60px" name="webmap" title="INP@0x01200034 T=uint32 S=0.0000008 P=2"></td>
        </tr>
			</table>
    </td>
  </tr>
  <tr>
    <td class="cws" style="vertical-align:top">
      <table class="t"  id="webmap1">
        <tr>
          <td class="tt" colspan="8">
            LVDS Bridge Status
          </td>
        </tr>
        <tr>
          <td class="tlrb" style="width:70px;">FPGA</td> 
          <td class="tlrb" style="width:70px;">To</td> 
          <td class="tlrb" style="width:110px;">RX FSM</td> 
          <td class="tlrb" style="width:70px;">RX Ready</td> 
          <td class="tlrb" style="width:70px;">RX Delay</td> 
          <td class="tlrb" style="width:110px;">RX Scan</td> 
          <td class="tlrb" style="width:80px;">CRC Errors</td> 
          <td class="tlrb" style="width:70px;">Reset</td> 
        </tr>
        <tr>
          <td class="tcrb" >BP</td> 
          <td class="tcrb" >SYS</td> 
          <td class="tcr"  id="bp_sys_lvds_rx_fsm"></td>
          <td class="tcr"  id="bp_sys_lvds_rx_ready"></td>
          <td class="tcr"  id="bp_sys_lvds_rx_delay"></td>
          <td class="tcr"  id="bp_sys_lvds_tx_fsm"></td>
          <td class="tcr" name="webmap" title="INP@0x00100048 T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x00100048 T=uint32 C=1" >
          </td> 
        </tr>
        <tr>
          <td class="tcrb" >BP</td> 
          <td class="tcrb" >BPM1</td> 
          <td class="tcr"  id="bp_bpm1_lvds_rx_fsm"></td>
          <td class="tcr"  id="bp_bpm1_lvds_rx_ready"></td>
          <td class="tcr"  id="bp_bpm1_lvds_rx_delay"></td>
          <td class="tcr"  id="bp_bpm1_lvds_tx_fsm"></td>
          <td class="tcr" name="webmap" title="INP@0x0010004C T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x0010004C T=uint32 C=1" >
          </td> 
        </tr>
        <tr>
          <td class="tcrb" >BP</td> 
          <td class="tcrb" >BPM2</td> 
          <td class="tcr"  id="bp_bpm2_lvds_rx_fsm"></td>
          <td class="tcr"  id="bp_bpm2_lvds_rx_ready"></td>
          <td class="tcr"  id="bp_bpm2_lvds_rx_delay"></td>
          <td class="tcr"  id="bp_bpm2_lvds_tx_fsm"></td>
          <td class="tcr" name="webmap" title="INP@0x00100050 T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x00100050 T=uint32 C=1" >
          </td> 
        </tr>
        <tr>
          <td class="tcrb" >SYS</td> 
          <td class="tcrb" >BP</td> 
          <td class="tcr"  id="sys_lvds_rx_fsm"></td>
          <td class="tcr"  id="sys_lvds_rx_ready"></td>
          <td class="tcr"  id="sys_lvds_rx_delay"></td>
          <td class="tcr"  id="sys_lvds_tx_fsm"></td>
          <td class="tcr" name="webmap" title="INP@0x00000068 T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x00000068 T=uint32 C=1" >
          </td> 
        </tr>
        <tr>
          <td class="tcrb" >BPM1</td> 
          <td class="tcrb" >BP</td> 
          <td class="tcr"  id="bpm1_lvds_rx_fsm"></td>
          <td class="tcr"  id="bpm1_lvds_rx_ready"></td>
          <td class="tcr"  id="bpm1_lvds_rx_delay"></td>
          <td class="tcr"  id="bpm1_lvds_tx_fsm"></td>
          <td class="tcr" name="webmap" title="INP@0x00A0005C T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x00A0005C T=uint32 C=1" >
          </td> 
        </tr>
        <tr>
          <td class="tcrb" >BPM2</td> 
          <td class="tcrb" >BP</td> 
          <td class="tcr"  id="bpm2_lvds_rx_fsm"></td>
          <td class="tcr"  id="bpm2_lvds_rx_ready"></td>
          <td class="tcr"  id="bpm2_lvds_rx_delay"></td>
          <td class="tcr"  id="bpm2_lvds_tx_fsm"></td>
          <td class="tcr" name="webmap" title="INP@0x0120005C T=uint32"></td>
          <td class="tcr">
            <input type="button" alt="1" value="Reset" name="webmap" title="OUT@0x0120005C T=uint32 C=1" >
          </td> 
        </tr>
      </table>
    </td>
  </tr>
</table>	
</div>

<!-- Hidden readout fields used by higher layer to update display -->
<p>
  <span class="bpm_sys_gtx"       name="webmap" title="INP@0x0000004C T=uint32" style="display:none"></span>
  <span class="sfp_sys_gtx"       name="webmap" title="INP@0x0000005C T=uint32" style="display:none"></span>
  <span class="sysbpm2_bpm1_gtx"  name="webmap" title="INP@0x00A0004C T=uint32" style="display:none"></span>
  <span class="sysbpm1_bpm2_gtx"  name="webmap" title="INP@0x0120004C T=uint32" style="display:none"></span>
  <span class="sys_lvds"          name="webmap" title="INP@0x00000064 T=uint32" style="display:none"></span>
  <span class="bpm1_lvds"         name="webmap" title="INP@0x00A00058 T=uint32" style="display:none"></span>
  <span class="bpm2_lvds"         name="webmap" title="INP@0x01200058 T=uint32" style="display:none"></span>
  <span class="bp_sys_lvds"       name="webmap" title="INP@0x0010003C T=uint32" style="display:none"></span>
  <span class="bp_bpm1_lvds"      name="webmap" title="INP@0x00100040 T=uint32" style="display:none"></span>
  <span class="bp_bpm2_lvds"      name="webmap" title="INP@0x00100044 T=uint32" style="display:none"></span>
</p>

<% include("include/wmfoot.inc"); %> 

<p id="webmap_test"></p>

<script type="text/javascript">bridge_init();</script>

</body>
</html>
